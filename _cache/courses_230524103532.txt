DROP TABLE IF EXISTS q_courses_liquidbase;

CREATE TABLE q_courses_liquidbase(
 liquidbase_id INT NOT NULL AUTO_INCREMENT,
 PRIMARY KEY(liquidbase_id), 
 liquidbase_dir VARCHAR (200),
 liquidbase_file VARCHAR (200),
 liquidbase_run_datetime DATETIME,
 liquidbase_run_saying VARCHAR (200));



DROP TABLE IF EXISTS q_courses_title_translations;

CREATE TABLE q_courses_title_translations(
 courses_title_translation_id INT NOT NULL AUTO_INCREMENT,
 PRIMARY KEY(courses_title_translation_id), 
 courses_title_translation_title VARCHAR (500),
 courses_title_translation_language VARCHAR (10));



DROP TABLE IF EXISTS q_courses_index;

CREATE TABLE q_courses_index(
 course_id INT NOT NULL AUTO_INCREMENT,
 PRIMARY KEY(course_id), 
 course_title VARCHAR (200),
 course_title_clean VARCHAR (200),
 course_is_active INT,
 course_front_page_intro TEXT,
 course_description TEXT,
 course_contents TEXT,
 course_language VARCHAR (10),
 course_main_category_id INT,
 course_main_category_title VARCHAR (200),
 course_sub_category_id INT,
 course_sub_category_title VARCHAR (200),
 course_intro_video_embedded VARCHAR (200),
 course_image_file VARCHAR (200),
 course_image_thumb VARCHAR (200),
 course_icon_16 VARCHAR (200),
 course_icon_32 VARCHAR (200),
 course_icon_48 VARCHAR (200),
 course_icon_64 VARCHAR (200),
 course_icon_96 VARCHAR (200),
 course_icon_260 VARCHAR (200),
 course_modules_count INT,
 course_lessons_count INT,
 course_quizzes_count INT,
 course_users_enrolled_count INT,
 course_read_times INT,
 course_read_times_ip_block TEXT,
 course_created DATETIME,
 course_updated DATETIME);



DROP TABLE IF EXISTS q_courses_index_stats_monthly;

CREATE TABLE q_courses_index_stats_monthly(
 monthly_id INT NOT NULL AUTO_INCREMENT,
 PRIMARY KEY(monthly_id), 
 monthly_course_id INT,
 monthly_year INT,
 monthly_month INT,
 monthly_users_enrolled_count INT,
 monthly_read_times INT,
 monthly_read_times_ip_block TEXT);



DROP TABLE IF EXISTS q_courses_users_enrolled;

CREATE TABLE q_courses_users_enrolled(
 enrolled_id INT NOT NULL AUTO_INCREMENT,
 PRIMARY KEY(enrolled_id), 
 enrolled_course_id INT,
 enrolled_course_title VARCHAR (200),
 enrolled_course_title_clean VARCHAR (200),
 enrolled_user_id INT,
 enrolled_started_datetime DATETIME,
 enrolled_started_saying VARCHAR (200),
 enrolled_percentage_done INT,
 enrolled_has_completed_exam INT,
 enrolled_exam_total_questions INT,
 enrolled_exam_correct_answers INT,
 enrolled_exam_correct_percentage INT,
 enrolled_completed_datetime DATETIME,
 enrolled_completed_saying VARCHAR (200));



DROP TABLE IF EXISTS q_courses_categories_main;

CREATE TABLE q_courses_categories_main(
 main_category_id INT NOT NULL AUTO_INCREMENT,
 PRIMARY KEY(main_category_id), 
 main_category_title VARCHAR (200),
 main_category_title_clean VARCHAR (200),
 main_category_description TEXT,
 main_category_language VARCHAR (10),
 main_category_icon_path VARCHAR (150),
 main_category_icon_16x16 VARCHAR (150),
 main_category_icon_18x18 VARCHAR (150),
 main_category_icon_24x24 VARCHAR (150),
 main_category_icon_32x32 VARCHAR (150),
 main_category_icon_36x36 VARCHAR (150),
 main_category_icon_48x48 VARCHAR (150),
 main_category_icon_96x96 VARCHAR (150),
 main_category_icon_192x192 VARCHAR (150),
 main_category_icon_260x260 VARCHAR (150),
 main_category_header_logo VARCHAR (150),
 main_category_webdesign VARCHAR (150),
 main_category_created DATETIME,
 main_category_updated DATETIME);



DROP TABLE IF EXISTS q_courses_categories_sub;

CREATE TABLE q_courses_categories_sub(
 sub_category_id INT NOT NULL AUTO_INCREMENT,
 PRIMARY KEY(sub_category_id), 
 sub_category_title VARCHAR (200),
 sub_category_title_clean VARCHAR (200),
 sub_category_description TEXT,
 sub_category_main_category_id INT,
 sub_category_main_category_title VARCHAR (200),
 sub_category_language VARCHAR (10),
 sub_category_created DATETIME,
 sub_category_updated DATETIME);



DROP TABLE IF EXISTS q_courses_modules;

CREATE TABLE q_courses_modules(
 module_id INT NOT NULL AUTO_INCREMENT,
 PRIMARY KEY(module_id), 
 module_course_id INT,
 module_course_title VARCHAR (200),
 module_number INT,
 module_title VARCHAR (200),
 module_title_clean VARCHAR (200),
 module_content TEXT,
 module_read_times INT,
 module_read_ipblock TEXT,
 module_created DATETIME,
 module_updated DATETIME,
 module_last_read_datetime DATETIME,
 module_last_read_date_formatted VARCHAR (60));



DROP TABLE IF EXISTS q_courses_modules_images;

CREATE TABLE q_courses_modules_images(
 image_id INT NOT NULL AUTO_INCREMENT,
 PRIMARY KEY(image_id), 
 image_course_id INT,
 image_module_id INT,
 image_title VARCHAR (200),
 image_text VARCHAR (200),
 image_path VARCHAR (200),
 image_file VARCHAR (200),
 image_thumb_200x113 VARCHAR (200),
 image_photo_by_name VARCHAR (200),
 image_photo_by_website VARCHAR (200),
 image_uploaded_datetime DATETIME,
 image_uploaded_user_id INT,
 image_uploaded_ip VARCHAR (200));



DROP TABLE IF EXISTS q_courses_modules_read;

CREATE TABLE q_courses_modules_read(
 module_read_id INT NOT NULL AUTO_INCREMENT,
 PRIMARY KEY(module_read_id), 
 read_course_id INT,
 read_course_title VARCHAR (200),
 read_module_id INT,
 read_module_title VARCHAR (200),
 read_user_id INT);



DROP TABLE IF EXISTS q_courses_lessons;

CREATE TABLE q_courses_lessons(
 lesson_id INT NOT NULL AUTO_INCREMENT,
 PRIMARY KEY(lesson_id), 
 lesson_number INT,
 lesson_title VARCHAR (200),
 lesson_title_clean VARCHAR (200),
 lesson_title_length INT,
 lesson_title_short VARCHAR (90),
 lesson_description TEXT,
 lesson_content TEXT,
 lesson_course_id INT,
 lesson_course_title VARCHAR (200),
 lesson_module_id INT,
 lesson_module_title VARCHAR (200),
 lesson_read_times INT,
 lesson_read_times_ipblock TEXT,
 lesson_created_datetime DATETIME,
 lesson_created_date_formatted VARCHAR (60),
 lesson_last_read_datetime DATETIME,
 lesson_last_read_date_formatted VARCHAR (60));



DROP TABLE IF EXISTS q_courses_lessons_images;

CREATE TABLE q_courses_lessons_images(
 image_id INT NOT NULL AUTO_INCREMENT,
 PRIMARY KEY(image_id), 
 image_course_id INT,
 image_module_id INT,
 image_lesson_id INT,
 image_title VARCHAR (200),
 image_text VARCHAR (200),
 image_path VARCHAR (200),
 image_file VARCHAR (200),
 image_thumb_200x113 VARCHAR (200),
 image_photo_by_name VARCHAR (200),
 image_photo_by_website VARCHAR (200),
 image_uploaded_datetime DATETIME,
 image_uploaded_user_id INT,
 image_uploaded_ip VARCHAR (200));



DROP TABLE IF EXISTS q_courses_lessons_read;

CREATE TABLE q_courses_lessons_read(
 lesson_read_id INT NOT NULL AUTO_INCREMENT,
 PRIMARY KEY(lesson_read_id), 
 read_course_id INT,
 read_course_title VARCHAR (200),
 read_module_id INT,
 read_module_title VARCHAR (200),
 read_lesson_id INT,
 read_lesson_title VARCHAR (200),
 read_user_id INT);



DROP TABLE IF EXISTS q_courses_lessons_comments;

CREATE TABLE q_courses_lessons_comments(
 comment_id INT NOT NULL AUTO_INCREMENT,
 PRIMARY KEY(comment_id), 
 comment_course_id INT,
 comment_course_title VARCHAR (200),
 comment_module_id INT,
 comment_module_title VARCHAR (200),
 comment_lesson_id INT,
 comment_lesson_title VARCHAR (200),
 comment_language VARCHAR (20),
 comment_approved INT,
 comment_datetime DATETIME,
 comment_time VARCHAR (200),
 comment_date_print VARCHAR (200),
 comment_user_id INT,
 comment_user_alias VARCHAR (250),
 comment_user_image_path VARCHAR (250),
 comment_user_image_file VARCHAR (250),
 comment_user_ip VARCHAR (250),
 comment_user_hostname VARCHAR (250),
 comment_user_agent VARCHAR (250),
 comment_title VARCHAR (250),
 comment_text TEXT,
 comment_rating INT,
 comment_helpful_clicks INT,
 comment_useless_clicks INT,
 comment_marked_as_spam INT,
 comment_spam_checked INT,
 comment_spam_checked_comment TEXT);



DROP TABLE IF EXISTS q_courses_modules_quizzes_index;

CREATE TABLE q_courses_modules_quizzes_index(
 quiz_id INT NOT NULL AUTO_INCREMENT,
 PRIMARY KEY(quiz_id), 
 quiz_course_id INT,
 quiz_course_title VARCHAR (200),
 quiz_language VARCHAR (20),
 quiz_total_questions INT,
 quiz_total_points INT,
 quiz_points_needed_to_pass INT);



DROP TABLE IF EXISTS q_courses_modules_quizzes_qa;

CREATE TABLE q_courses_modules_quizzes_qa(
 qa_id INT NOT NULL AUTO_INCREMENT,
 PRIMARY KEY(qa_id), 
 qa_course_id INT,
 qa_course_title VARCHAR (200),
 qa_quiz_id INT,
 qa_question_number INT,
 qa_question VARCHAR (200),
 qa_text TEXT,
 qa_type VARCHAR (200),
 qa_alt_a VARCHAR (200),
 qa_alt_b VARCHAR (200),
 qa_alt_c VARCHAR (200),
 qa_alt_d VARCHAR (200),
 qa_alt_e VARCHAR (200),
 qa_alt_f VARCHAR (200),
 qa_alt_g VARCHAR (200),
 qa_alt_h VARCHAR (200),
 qa_alt_i VARCHAR (200),
 qa_alt_j VARCHAR (200),
 qa_alt_k VARCHAR (200),
 qa_alt_l VARCHAR (200),
 qa_alt_m VARCHAR (200),
 qa_alt_n VARCHAR (200),
 qa_correct_alternatives VARCHAR (200),
 qa_points INT,
 qa_hint TEXT,
 qa_explanation TEXT);



DROP TABLE IF EXISTS q_courses_modules_quizzes_user_records;

CREATE TABLE q_courses_modules_quizzes_user_records(
 record_id INT NOT NULL AUTO_INCREMENT,
 PRIMARY KEY(record_id), 
 record_course_id INT,
 record_course_title VARCHAR (200),
 record_quiz_id INT,
 record_user_id INT,
 record_started_datetime DATETIME,
 record_started_time VARCHAR (200),
 record_started_saying VARCHAR (200),
 record_is_closed INT,
 record_ended_datetime DATETIME,
 record_ended_time VARCHAR (200),
 record_ended_saying VARCHAR (200),
 record_finished_saying VARCHAR (200),
 record_time_used VARCHAR (200),
 record_percentage INT,
 record_passed INT);



DROP TABLE IF EXISTS q_courses_exams_index;

CREATE TABLE q_courses_exams_index(
 exam_id INT NOT NULL AUTO_INCREMENT,
 PRIMARY KEY(exam_id), 
 exam_course_id INT,
 exam_course_title VARCHAR (200),
 exam_language VARCHAR (20),
 exam_total_questions INT,
 exam_total_points INT,
 exam_points_needed_to_pass INT);



DROP TABLE IF EXISTS q_courses_exams_qa;

CREATE TABLE q_courses_exams_qa(
 qa_id INT NOT NULL AUTO_INCREMENT,
 PRIMARY KEY(qa_id), 
 qa_course_id INT,
 qa_course_title VARCHAR (200),
 qa_exam_id INT,
 qa_question_number INT,
 qa_question VARCHAR (200),
 qa_text TEXT,
 qa_type VARCHAR (200),
 qa_alt_a VARCHAR (200),
 qa_alt_b VARCHAR (200),
 qa_alt_c VARCHAR (200),
 qa_alt_d VARCHAR (200),
 qa_alt_e VARCHAR (200),
 qa_alt_f VARCHAR (200),
 qa_alt_g VARCHAR (200),
 qa_alt_h VARCHAR (200),
 qa_alt_i VARCHAR (200),
 qa_alt_j VARCHAR (200),
 qa_alt_k VARCHAR (200),
 qa_alt_l VARCHAR (200),
 qa_alt_m VARCHAR (200),
 qa_alt_n VARCHAR (200),
 qa_correct_alternatives VARCHAR (200),
 qa_points INT,
 qa_hint TEXT,
 qa_explanation TEXT);



DROP TABLE IF EXISTS q_courses_exams_user_tries;

CREATE TABLE q_courses_exams_user_tries(
 try_id INT NOT NULL AUTO_INCREMENT,
 PRIMARY KEY(try_id), 
 try_course_id INT,
 try_course_title VARCHAR (200),
 try_exam_id INT,
 try_user_id INT,
 try_started_datetime DATETIME,
 try_started_time VARCHAR (200),
 try_started_saying VARCHAR (200),
 try_is_closed INT,
 try_ended_datetime DATETIME,
 try_ended_time VARCHAR (200),
 try_ended_saying VARCHAR (200),
 try_finished_saying VARCHAR (200),
 try_time_used VARCHAR (200),
 try_percentage INT,
 try_passed INT);



DROP TABLE IF EXISTS q_courses_exams_user_tries_qa;

CREATE TABLE q_courses_exams_user_tries_qa(
 try_qa_id INT NOT NULL AUTO_INCREMENT,
 PRIMARY KEY(try_qa_id), 
 try_qa_course_id INT,
 try_qa_course_title VARCHAR (200),
 try_qa_exam_id INT,
 try_qa_try_id INT,
 try_qa_user_id INT,
 try_qa_qa_id INT,
 try_qa_alt_a VARCHAR (200),
 try_qa_alt_b VARCHAR (200),
 try_qa_alt_c VARCHAR (200),
 try_qa_alt_d VARCHAR (200),
 try_qa_alt_e VARCHAR (200),
 try_qa_alt_f VARCHAR (200),
 try_qa_alt_g VARCHAR (200),
 try_qa_alt_h VARCHAR (200),
 try_qa_alt_i VARCHAR (200),
 try_qa_alt_j VARCHAR (200),
 try_qa_alt_k VARCHAR (200),
 try_qa_alt_l VARCHAR (200),
 try_qa_alt_m VARCHAR (200),
 try_qa_alt_n VARCHAR (200),
 try_qa_points_awarded DOUBLE,
 try_qa_is_correct INT);





INSERT INTO q_courses_liquidbase(
liquidbase_id, liquidbase_dir, liquidbase_file, liquidbase_run_datetime, liquidbase_run_saying)
VALUES 
('1', 'courses', 'categories_main_003.php', '2023-05-21 07:37:35', '21 May 2023 07:37'),
('2', 'courses', 'categories_sub.php', '2023-05-21 07:37:35', '21 May 2023 07:37'),
('3', 'courses', 'courses_title_translations_001.php', '2023-05-21 07:37:35', '21 May 2023 07:37'),
('4', 'courses', 'exams_index.php', '2023-05-21 07:37:35', '21 May 2023 07:37'),
('5', 'courses', 'exams_qa.php', '2023-05-21 07:37:35', '21 May 2023 07:37'),
('6', 'courses', 'exams_user_tries.php', '2023-05-21 07:37:35', '21 May 2023 07:37'),
('7', 'courses', 'exams_user_tries_qa.php', '2023-05-21 07:37:35', '21 May 2023 07:37'),
('8', 'courses', 'index.php', '2023-05-21 07:37:35', '21 May 2023 07:37'),
('9', 'courses', 'index_stats_monthly.php', '2023-05-21 07:37:35', '21 May 2023 07:37'),
('10', 'courses', 'lessons.php', '2023-05-21 07:37:35', '21 May 2023 07:37'),
('11', 'courses', 'lessons_comments.php', '2023-05-21 07:37:35', '21 May 2023 07:37'),
('12', 'courses', 'lessons_images.php', '2023-05-21 07:37:35', '21 May 2023 07:37'),
('13', 'courses', 'lessons_read.php', '2023-05-21 07:37:35', '21 May 2023 07:37'),
('14', 'courses', 'modules.php', '2023-05-21 07:37:35', '21 May 2023 07:37'),
('15', 'courses', 'modules_images.php', '2023-05-21 07:37:35', '21 May 2023 07:37'),
('16', 'courses', 'modules_quizzes_index.php', '2023-05-21 07:37:35', '21 May 2023 07:37'),
('17', 'courses', 'modules_quizzes_qa.php', '2023-05-21 07:37:35', '21 May 2023 07:37'),
('18', 'courses', 'modules_quizzes_user_records.php', '2023-05-21 07:37:35', '21 May 2023 07:37'),
('19', 'courses', 'modules_read.php', '2023-05-21 07:37:44', '21 May 2023 07:37'),
('20', 'courses', 'title_translations.php', '2023-05-21 07:37:45', '21 May 2023 07:37'),
('24', 'courses', 'users_enrolled.php', '2023-05-21 07:40:39', '21 May 2023 07:40');

INSERT INTO q_courses_title_translations(
courses_title_translation_id, courses_title_translation_title, courses_title_translation_language)
VALUES 
('1', 'Courses', 'en');

INSERT INTO q_courses_categories_main(
main_category_id, main_category_title, main_category_title_clean, main_category_description, main_category_language, main_category_icon_path, main_category_icon_16x16, main_category_icon_18x18, main_category_icon_24x24, main_category_icon_32x32, main_category_icon_36x36, main_category_icon_48x48, main_category_icon_96x96, main_category_icon_192x192, main_category_icon_260x260, main_category_header_logo, main_category_webdesign, main_category_created, main_category_updated)
VALUES 
('1', 'PHP', 'php', '', 'en', '', '', '', '', '', '', '', '', '', '', '', 'same_as_website', '2023-05-24 10:00:01', '2023-05-24 10:00:01');

INSERT INTO q_courses_categories_sub(
sub_category_id, sub_category_title, sub_category_title_clean, sub_category_description, sub_category_main_category_id, sub_category_main_category_title, sub_category_language, sub_category_created, sub_category_updated)
VALUES 
('1', 'PHP MySQLi', 'php_mysqli', '', '1', 'PHP', '', '2023-05-24 10:00:07', '2023-05-24 10:00:07');